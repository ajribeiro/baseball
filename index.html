<!DOCTYPE HTML>
<HTML>

<HEAD>
    <META CHARSET="utf-8">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script SRC="d3/d3.v3.js"></script>
    <script type="text/javascript" src='assets/drawing.js'></script>
    <script type="text/javascript" src='assets/misc.js'></script>
    <SCRIPT>

        var stat = 'WAR'
        var d  = null, svg=null;
        var datind=0;
        var ind_leaders=1, car_leaders=0, ind=0;
        var nbars=30;
        var type='seas'
        var stats=['WAR','HR','R','RBI','SB','BB%','K%','ISO',
            'AVG','OBP','SLG','wOBA','wRC+']
        var defs = {'WAR':'Wins above replacement','HR':'Homeruns','R':'Runs','RBI':'Runs batted in','SB':'Stolen bases','BB%':'Walk Percentage','K%':'Strikeout percentage','ISO':'Isolated power',
            'AVG':'Batting average','OBP':'On base percentage','SLG':'Slugging percentage','wOBA':'Weighted on base average','wRC+':'Weighted runs created plus'}

        function draw(data) {

            "use strict";

            d3.select('#sea')
                .on('click',function(){
                    d3.select('#sea').attr('class','selected')
                    d3.select('#car').attr('class','tab')
                    d3.select('#play').attr('class','tab')
                    type='seas'
                    datind=0
                    update_bars(data)
                    draw_y_axis()
                })

            d3.select('#car')
                .on('click',function(){
                    d3.select('#sea').attr('class','tab')
                    d3.select('#car').attr('class','selected')
                    d3.select('#play').attr('class','tab')
                    type='car'
                    datind=0
                    update_bars(data)
                    draw_y_axis()
                })  

            d3.select('#play')
                .on('click',function(){
                    type='play'
                    d3.select('#sea').attr('class','tab')
                    d3.select('#car').attr('class','tab')
                    d3.select('#play').attr('class','selected')
                    datind=0
                    draw_player(data)
                })  

            draw_leaders(data)
        }
    </SCRIPT>
    <TITLE>Baseball Data</TITLE>
</HEAD>
<BODY>
    <div class='tabnav'>
        <ul class='tabnav-tabs'>
            <li id='sea' class='selected'>Seasons</li>
            <li id='car' class='tab'>Career</li>
            <li id='play' class='tab'>Player</li>
        </ul>
    </div>
    <div id='chart'></div>
    <SCRIPT>
        d3.json("data/baseball.json",draw);
    </SCRIPT>
</BODY>

</HTML>